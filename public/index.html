<!doctype html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Dollar Zombies Engine - 3D FPS</title>
  <style>
    html,body{height:100%;margin:0;background:#05060a;color:#e8ecff;font-family:system-ui,Segoe UI,Roboto,Arial;}
    #hud{position:fixed;inset:0;pointer-events:none}
    #bo2-hud{position:absolute;inset:0;font-family:var(--ui-font, system-ui);color:#e9efe3}
    .bo2-panel{background:linear-gradient(180deg, rgba(10,12,10,.75), rgba(6,8,7,.9));border:1px solid rgba(185,210,120,.2);
      box-shadow:0 10px 28px rgba(0,0,0,.45);backdrop-filter:blur(6px)}
    .bo2-panel.angled{clip-path:polygon(0 0, 96% 0, 100% 18%, 100% 100%, 0 100%)}
    .bo2-panel.angled-left{clip-path:polygon(0 0, 100% 0, 100% 100%, 4% 100%, 0 82%)}
    #bo2-top-left{position:absolute;left:18px;top:16px;display:flex;gap:10px;align-items:center}
    #mp-top-center{position:absolute;left:50%;top:16px;transform:translateX(-50%);display:flex;gap:10px;align-items:center}
    .bo2-stat{padding:8px 10px;border-radius:6px;letter-spacing:.12em;text-transform:uppercase;font-weight:800;font-size:11px}
    .bo2-stat span{font-size:16px;letter-spacing:.04em;margin-left:6px}
    #bo2-bottom-left{position:absolute;left:18px;bottom:18px;display:grid;gap:8px}
    #bo2-cash{padding:10px 12px;border-radius:6px;min-width:140px}
    #bo2-cash .label{font-size:10px;letter-spacing:.18em;text-transform:uppercase;opacity:.8}
    #bo2-cash .value{font-size:22px;font-weight:900;letter-spacing:.06em}
    #bo2-gear{display:flex;gap:8px}
    .bo2-gear{padding:8px 10px;border-radius:6px;font-size:11px;text-transform:uppercase;letter-spacing:.14em}
    .bo2-gear .count{font-size:14px;font-weight:900;letter-spacing:.06em;margin-left:6px}
    #bo2-bottom-right{position:absolute;right:18px;bottom:18px;display:grid;gap:8px;min-width:260px}
    #bo2-weapon{padding:12px 14px;border-radius:6px;text-align:right}
    #weaponName{font-size:18px;font-weight:900;letter-spacing:.08em;text-transform:uppercase;display:block}
    #ammoText{font-size:16px;font-weight:800;letter-spacing:.08em}
    #bo2-hp{padding:8px 12px;border-radius:6px;text-align:right;font-size:11px;letter-spacing:.18em;text-transform:uppercase}
    #hpNum{font-size:16px;font-weight:900;letter-spacing:.08em;margin-left:6px}
    #crosshair{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:12px;height:12px}
    #crosshair:before,#crosshair:after{content:"";position:absolute;left:50%;top:50%;background:rgba(255,255,255,.8)}
    #crosshair:before{width:12px;height:2px;transform:translate(-50%,-50%)}
    #crosshair:after{width:2px;height:12px;transform:translate(-50%,-50%)}
    #menu{position:fixed;inset:0;display:grid;place-items:center;background:radial-gradient(circle at 30% 20%, rgba(120,160,255,.15), transparent 45%),
                                                       radial-gradient(circle at 70% 70%, rgba(255,180,80,.12), transparent 45%),
                                                       rgba(0,0,0,.6);}
    #card{width:min(720px,92vw);background:rgba(10,12,22,.75);border:1px solid rgba(120,160,255,.25);border-radius:18px;padding:18px}
    #card h1{margin:0 0 6px 0;font-size:22px}
    #card p{margin:0 0 10px 0;opacity:.9;line-height:1.35}
    .btnrow{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
    button{pointer-events:auto;cursor:pointer;border:1px solid rgba(120,160,255,.3);background:rgba(20,24,44,.9);color:#e8ecff;
           padding:10px 12px;border-radius:12px;font-weight:600}
    button:hover{filter:brightness(1.1)}
    #log{max-height:160px;overflow:auto;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono";font-size:12px;
         background:rgba(0,0,0,.35);padding:10px;border-radius:12px;border:1px solid rgba(120,160,255,.18)}
    canvas{display:block}
    #devToast{position:fixed;right:12px;top:12px;max-width:min(420px,90vw);display:flex;flex-direction:column;gap:8px}
    .toast{pointer-events:none;background:rgba(18,22,40,.82);border:1px solid rgba(255,200,120,.25);padding:10px 12px;border-radius:14px}
    .tiny{opacity:.8;font-size:12px}
  </style>
</head>
<body>
    <div id="ui-root"></div>
      <div class="tiny" style="margin-top:10px">Scripts load from <code>/public/scripts/manifest.json</code> and <code>/public/scripts/*.dzs</code>.</div>
      <div id="log" style="margin-top:10px"></div>
    </div>
  </div>

  <div id="hud">
    <div id="bo2-hud">
      <div id="bo2-top-left">
        <div class="bo2-panel bo2-stat angled">Wave <span id="waveNum">0</span></div>
        <div class="bo2-panel bo2-stat angled">Alive <span id="aliveNum">0</span></div>
      </div>
      <div id="mp-top-center">
        <div class="bo2-panel bo2-stat angled-left"><span id="mpTeamA">Alpha</span> <span id="mpScoreA">0</span></div>
        <div class="bo2-panel bo2-stat angled">VS</div>
        <div class="bo2-panel bo2-stat angled"><span id="mpTeamB">Bravo</span> <span id="mpScoreB">0</span></div>
      </div>

      <div id="bo2-bottom-left">
        <div class="bo2-panel" id="bo2-cash">
          <div class="label">Points</div>
          <div class="value" id="cashNum">0</div>
        </div>
        <div id="bo2-gear">
          <div class="bo2-panel bo2-gear angled-left">Frag <span class="count" id="fragCount">2</span></div>
          <div class="bo2-panel bo2-gear angled-left">Tactical <span class="count" id="tacCount">1</span></div>
        </div>
      </div>

      <div id="bo2-bottom-right">
        <div class="bo2-panel" id="bo2-weapon">
          <span id="weaponName">Weapon</span>
          <span id="ammoText">0/0</span>
        </div>
        <div class="bo2-panel" id="bo2-hp">Health <span id="hpNum">100</span></div>
      </div>
    </div>
    <div id="crosshair"></div>
    <div id="devToast"></div>
  </div>

  <script type="importmap">
  {
    "imports": {
      "three": "https://unpkg.com/three@0.161.0/build/three.module.js",
      "three/": "https://unpkg.com/three@0.161.0/"
    }
  }
  </script>
  <script type="module" src="/public/main.js"></script>
</body>
</html>
